# üì∏ Google Photos Clone - ·ª®ng d·ª•ng Qu·∫£n l√Ω ·∫¢nh C√° nh√¢n

<p align="center">
  <img src="https://img.shields.io/badge/Laravel-12.x-FF2D20?style=for-the-badge&logo=laravel&logoColor=white" alt="Laravel">
  <img src="https://img.shields.io/badge/React-19.x-61DAFB?style=for-the-badge&logo=react&logoColor=black" alt="React">
  <img src="https://img.shields.io/badge/TypeScript-5.7-3178C6?style=for-the-badge&logo=typescript&logoColor=white" alt="TypeScript">
  <img src="https://img.shields.io/badge/Inertia.js-2.x-9553E9?style=for-the-badge&logo=inertia&logoColor=white" alt="Inertia.js">
  <img src="https://img.shields.io/badge/TailwindCSS-4.x-06B6D4?style=for-the-badge&logo=tailwindcss&logoColor=white" alt="TailwindCSS">
</p>

·ª®ng d·ª•ng qu·∫£n l√Ω ·∫£nh c√° nh√¢n ƒë∆∞·ª£c x√¢y d·ª±ng d·ª±a tr√™n giao di·ªán v√† ch·ª©c nƒÉng c·ªßa **Google Photos**, s·ª≠ d·ª•ng stack c√¥ng ngh·ªá hi·ªán ƒë·∫°i: **Laravel**, **React**, **TypeScript**, v√† **Inertia.js**. ·ª®ng d·ª•ng cung c·∫•p tr·∫£i nghi·ªám ng∆∞·ªùi d√πng m∆∞·ª£t m√† v·ªõi c√°c t√≠nh nƒÉng qu·∫£n l√Ω ·∫£nh/video to√†n di·ªán.

## ‚ú® T√≠nh nƒÉng ch√≠nh

### üì∑ Qu·∫£n l√Ω ·∫¢nh & Video
- ‚úÖ **Upload ƒëa d·∫°ng**: H·ªó tr·ª£ k√©o th·∫£ (drag & drop) ho·∫∑c ch·ªçn file th·ªß c√¥ng
- ‚úÖ **ƒê·ªãnh d·∫°ng**: JPEG, PNG, GIF, WebP, MP4, MOV, AVI
- ‚úÖ **Preview realtime**: Xem tr∆∞·ªõc ·∫£nh/video ngay khi upload
- ‚úÖ **Lightbox viewer**: Xem ·∫£nh to√†n m√†n h√¨nh v·ªõi zoom in/out
- ‚úÖ **Metadata**: T·ª± ƒë·ªông l∆∞u th√¥ng tin EXIF (ng√†y ch·ª•p, k√≠ch th∆∞·ªõc, GPS)
- ‚úÖ **Thumbnail**: T·ª± ƒë·ªông t·∫°o ·∫£nh thu nh·ªè ƒë·ªÉ t·ªëi ∆∞u hi·ªáu nƒÉng

### üóÇÔ∏è T·ªï ch·ª©c & Ph√¢n lo·∫°i
- ‚úÖ **Albums**: T·∫°o v√† qu·∫£n l√Ω album ·∫£nh
- ‚ùå **Tags**: G·∫Øn th·∫ª ƒë·ªÉ d·ªÖ d√†ng t√¨m ki·∫øm
- ‚ùå **People Recognition**: Nh·∫≠n di·ªán v√† g·∫Øn t√™n ng∆∞·ªùi trong ·∫£nh
- ‚úÖ **Favorites**: ƒê√°nh d·∫•u ·∫£nh y√™u th√≠ch
- ‚ùå **Archive**: L∆∞u tr·ªØ ·∫£nh kh√¥ng mu·ªën hi·ªÉn th·ªã th∆∞·ªùng xuy√™n

### üîç T√¨m ki·∫øm & L·ªçc
- ‚ùå **T√¨m ki·∫øm n√¢ng cao**: Theo t√™n file, tags, ng∆∞·ªùi, ƒë·ªãa ƒëi·ªÉm
- ‚ùå **L·ªçc theo th·ªùi gian**: Ng√†y, th√°ng, nƒÉm
- ‚ùå **L·ªçc theo lo·∫°i**: ·∫¢nh, video, ·∫£nh y√™u th√≠ch

### üóëÔ∏è Th√πng r√°c (Trash Bin)
- ‚úÖ **Soft Delete**: ·∫¢nh b·ªã x√≥a s·∫Ω v√†o th√πng r√°c (gi·ªØ 60 ng√†y)
- ‚úÖ **Restore**: Kh√¥i ph·ª•c ·∫£nh t·ª´ th√πng r√°c
- ‚úÖ **Force Delete**: X√≥a vƒ©nh vi·ªÖn ·∫£nh/video
- ‚úÖ **Auto-cleanup**: T·ª± ƒë·ªông x√≥a sau 60 ng√†y
- ‚úÖ **Expiration Badges**: Hi·ªÉn th·ªã th·ªùi gian c√≤n l·∫°i v·ªõi m√†u c·∫£nh b√°o

### ü§ù Chia s·∫ª & C·ªông t√°c
- ‚ùå **Share Albums**: Chia s·∫ª album v·ªõi ng∆∞·ªùi kh√°c
- ‚ùå **Permissions**: Ph√¢n quy·ªÅn xem/ch·ªânh s·ª≠a
- ‚ùå **Friendship System**: K·∫øt b·∫°n v·ªõi ng∆∞·ªùi d√πng kh√°c
- ‚ùå **Notifications**: Th√¥ng b√°o khi c√≥ ho·∫°t ƒë·ªông m·ªõi

### üé® Giao di·ªán
- ‚ùå **Responsive Design**: T∆∞∆°ng th√≠ch m·ªçi thi·∫øt b·ªã
- ‚úÖ **Grid Layout**: L∆∞·ªõi ·∫£nh linh ho·∫°t nh∆∞ Google Photos
- ‚úÖ **Date Dividers**: Ph√¢n chia theo ng√†y th√°ng nƒÉm
- ‚úÖ **Selection Mode**: Ch·ªçn nhi·ªÅu ·∫£nh ƒë·ªÉ th·ª±c hi·ªán h√†ng lo·∫°t
- ‚úÖ **Smooth Animations**: Hi·ªáu ·ª©ng chuy·ªÉn ƒë·ªông m∆∞·ª£t m√†

## üõ†Ô∏è C√¥ng ngh·ªá s·ª≠ d·ª•ng

### Backend
- **Laravel 12.x** - PHP Framework m·∫°nh m·∫Ω
- **MySQL/PostgreSQL** - Database quan h·ªá
- **Inertia.js** - Modern monolith approach
- **Laravel Storage** - File management system
- **Laravel Queue** - Background job processing
- **Laravel Scheduler** - Cron job management

### Frontend
- **React 19.x** - UI Library
- **TypeScript 5.7** - Type-safe JavaScript
- **TailwindCSS 4.x** - Utility-first CSS framework
- **Bootstrap 5.3** - Component library
- **Vite 7.x** - Build tool c·ª±c nhanh

### DevOps
- **Docker** - Containerization (optional)
- **Laravel Sail** - Docker development environment
- **Git** - Version control

## üìã Y√™u c·∫ßu h·ªá th·ªëng

- **PHP**: >= 8.2
- **Composer**: >= 2.x
- **Node.js**: >= 20.x
- **NPM/Yarn**: >= 10.x
- **Database**: MySQL >= 8.0 ho·∫∑c PostgreSQL >= 14
- **Web Server**: Apache/Nginx ho·∫∑c PHP built-in server
- **Extensions**: BCMath, Ctype, Fileinfo, JSON, Mbstring, OpenSSL, PDO, Tokenizer, XML, GD/Imagick

## üöÄ C√†i ƒë·∫∑t

### 1. Clone Repository

```bash
git clone https://github.com/congntc/google-photos-clone.git
cd google-photos-clone
```

### 2. C√†i ƒë·∫∑t Dependencies

#### Backend (PHP)
```bash
composer install
```

#### Frontend (JavaScript)
```bash
npm install
# ho·∫∑c
yarn install
```

### 3. C·∫•u h√¨nh m√¥i tr∆∞·ªùng

#### T·∫°o file `.env`
```bash
cp .env.example .env
```

#### Generate Application Key
```bash
php artisan key:generate
```

#### C·∫•u h√¨nh Database trong `.env`
```env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=google_photos_clone
DB_USERNAME=root
DB_PASSWORD=your_password
```

#### C·∫•u h√¨nh File Storage
```env
FILESYSTEM_DISK=public
```

### 4. T·∫°o Database

```bash
# MySQL
mysql -u root -p
CREATE DATABASE google_photos_clone CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
EXIT;
```

### 5. Ch·∫°y Migration

```bash
php artisan migrate
```

### 6. T·∫°o Symbolic Link cho Storage

```bash
php artisan storage:link
```

### 7. Seed Database (Optional)

```bash
php artisan db:seed
```

### 8. Build Assets

#### Development
```bash
npm run dev
```

#### Production
```bash
npm run build
```

### 9. Ch·∫°y ·ª©ng d·ª•ng

#### S·ª≠ d·ª•ng PHP Built-in Server
```bash
php artisan serve
```

M·ªü tr√¨nh duy·ªát: `http://127.0.0.1:8000`

#### S·ª≠ d·ª•ng Laravel Sail (Docker)
```bash
./vendor/bin/sail up -d
./vendor/bin/sail artisan migrate
```

M·ªü tr√¨nh duy·ªát: `http://localhost`

## üîß Development

### Ch·∫°y Development Server

```bash
# Terminal 1: Backend
php artisan serve

# Terminal 2: Frontend (Hot reload)
npm run dev

# Terminal 3: Queue Worker (Optional)
php artisan queue:listen
```

### Ho·∫∑c s·ª≠ d·ª•ng Composer Script (All-in-one)

```bash
composer dev
```

Script n√†y s·∫Ω ch·∫°y ƒë·ªìng th·ªùi:
- Laravel Server (port 8000)
- Queue Worker
- Laravel Pail (Log viewer)
- Vite Dev Server (Hot reload)

### üóìÔ∏è Scheduled Tasks

·ª®ng d·ª•ng s·ª≠ d·ª•ng Laravel Scheduler ƒë·ªÉ t·ª± ƒë·ªông x√≥a ·∫£nh h·∫øt h·∫°n trong th√πng r√°c.

#### Th√™m v√†o Crontab (Linux/Mac)
```bash
* * * * * cd /path-to-project && php artisan schedule:run >> /dev/null 2>&1
```

#### Windows Task Scheduler
```bash
# T·∫°o task ch·∫°y m·ªói ph√∫t
php artisan schedule:run
```

#### Test Scheduled Command
```bash
php artisan photos:delete-expired
```

## üìÅ C·∫•u tr√∫c th∆∞ m·ª•c

```
google-photos-clone/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ Console/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Commands/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ DeleteExpiredPhotos.php    # Auto-delete expired photos
‚îÇ   ‚îú‚îÄ‚îÄ Http/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Controllers/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PhotoController.php        # Photo CRUD + Bin management
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AlbumController.php        # Album management
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FavoriteController.php     # Favorites
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Middleware/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ HandleInertiaRequests.php  # Inertia middleware
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Requests/
‚îÇ   ‚îî‚îÄ‚îÄ Models/
‚îÇ       ‚îú‚îÄ‚îÄ Photo.php                       # Photo model (SoftDeletes)
‚îÇ       ‚îú‚îÄ‚îÄ Album.php                       # Album model
‚îÇ       ‚îú‚îÄ‚îÄ User.php                        # User model
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ migrations/                         # Database schema
‚îÇ   ‚îî‚îÄ‚îÄ seeders/                            # Sample data
‚îú‚îÄ‚îÄ resources/
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Pages/                          # React pages
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Photos.tsx                  # Main photo gallery
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Bin.tsx                     # Trash bin
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Albums.tsx                  # Albums list
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Favourites.tsx              # Favorites
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Layouts/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.tsx                     # Main layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Components/                     # Reusable components
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ css/                        # Stylesheets
‚îÇ   ‚îî‚îÄ‚îÄ views/
‚îÇ       ‚îî‚îÄ‚îÄ app.blade.php                   # Root template
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ web.php                             # Web routes
‚îÇ   ‚îî‚îÄ‚îÄ console.php                         # Console commands
‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ       ‚îî‚îÄ‚îÄ public/                         # User uploads
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ storage -> ../storage/app/public    # Symlink
‚îÇ   ‚îî‚îÄ‚îÄ build/                              # Compiled assets
‚îú‚îÄ‚îÄ .env.example                            # Environment template
‚îú‚îÄ‚îÄ composer.json                           # PHP dependencies
‚îú‚îÄ‚îÄ package.json                            # JS dependencies
‚îî‚îÄ‚îÄ README.md                               # This file
```

## üéØ API Endpoints

### Photos
```
GET     /photos                 # Danh s√°ch ·∫£nh
POST    /photos/upload          # Upload ·∫£nh m·ªõi
POST    /photos/toggle-favorite # Toggle favorite
POST    /photos/delete-batch    # Soft delete (v√†o th√πng r√°c)
POST    /photos/restore-batch   # Kh√¥i ph·ª•c t·ª´ th√πng r√°c
POST    /photos/force-delete-batch # X√≥a vƒ©nh vi·ªÖn
GET     /api/photos/bin         # L·∫•y danh s√°ch th√πng r√°c
GET     /photos/{id}/download   # Download ·∫£nh
```

### Albums
```
GET     /albums                 # Danh s√°ch albums
POST    /albums                 # T·∫°o album m·ªõi
GET     /albums/{id}            # Chi ti·∫øt album
PUT     /albums/{id}            # C·∫≠p nh·∫≠t album
DELETE  /albums/{id}            # X√≥a album
POST    /albums/{id}/add-photos # Th√™m ·∫£nh v√†o album
```

### Favorites
```
GET     /favourites             # Danh s√°ch ·∫£nh y√™u th√≠ch
```

### Archive
```
GET     /archive                # Danh s√°ch ·∫£nh l∆∞u tr·ªØ
```

## üß™ Testing

### Ch·∫°y Tests
```bash
php artisan test

# V·ªõi coverage
php artisan test --coverage
```

### T·∫°o Test m·ªõi
```bash
php artisan make:test PhotoTest
```

## üêõ Troubleshooting

### L·ªói: "Storage link not found"
```bash
php artisan storage:link
```

### L·ªói: "SQLSTATE[HY000] [2002] Connection refused"
Ki·ªÉm tra MySQL/PostgreSQL ƒë√£ ch·∫°y ch∆∞a:
```bash
# MySQL
sudo service mysql start

# PostgreSQL
sudo service postgresql start
```

### L·ªói: "Class 'App\Http\Controllers\...' not found"
```bash
composer dump-autoload
```

### L·ªói: "Vite manifest not found"
```bash
npm run build
```

### X√≥a Cache
```bash
php artisan cache:clear
php artisan config:clear
php artisan route:clear
php artisan view:clear
```

## üì¶ Deployment

### Build cho Production

```bash
# 1. C√†i dependencies
composer install --optimize-autoloader --no-dev

# 2. Build frontend
npm run build

# 3. Optimize
php artisan config:cache
php artisan route:cache
php artisan view:cache

# 4. Set permissions
chmod -R 775 storage bootstrap/cache
```

### C·∫•u h√¨nh Nginx

```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /var/www/google-photos-clone/public;

    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";

    index index.php;

    charset utf-8;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }

    error_page 404 /index.php;

    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }

    location ~ /\.(?!well-known).* {
        deny all;
    }

    # Upload size
    client_max_body_size 100M;
}
```

### Environment Variables (Production)

```env
APP_ENV=production
APP_DEBUG=false
APP_URL=https://your-domain.com

# Session driver
SESSION_DRIVER=database
QUEUE_CONNECTION=database

# Cache
CACHE_DRIVER=redis
REDIS_HOST=127.0.0.1
```

## ü§ù Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

1. Fork the project
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## üìù Changelog

### Version 1.0.0 (2025-11-10)
- ‚úÖ Qu·∫£n l√Ω ·∫£nh/video c∆° b·∫£n (upload, view, delete)
- ‚úÖ Album management
- ‚úÖ Favorites system
- ‚úÖ Trash bin v·ªõi 60-day retention
- ‚úÖ Auto-delete expired photos
- ‚úÖ Lightbox viewer fullscreen
- ‚úÖ Responsive design
- ‚úÖ Expiration badges v·ªõi color warnings

## üìÑ License

This project is open-sourced software licensed under the [MIT license](https://opensource.org/licenses/MIT).

## üë®‚Äçüíª Author

**Your Name**
- GitHub: [@congntc](https://github.com/congntc)
- Email: nguyentheconght@gmail.com

## üôè Acknowledgments

- [Laravel](https://laravel.com) - The PHP Framework
- [React](https://react.dev) - The UI Library
- [Inertia.js](https://inertiajs.com) - Modern Monolith
- [TailwindCSS](https://tailwindcss.com) - CSS Framework
- [Google Photos](https://photos.google.com) - Design Inspiration

---

<p align="center">Made with ‚ù§Ô∏è using Laravel & React</p>
